#!/bin/bash  # запуск через bash

read -p "Укажите директорию: " dir  # ввод пути

[[ -d "$dir" ]] || { echo "Ошибка: '$dir' не является директорией."; exit 1; }  # проверка директории

for f in "$dir"/*; do  # обход содержимого
  [[ -f "$f" ]] || continue  # пропускаем не-файлы
  ext="${f##*.}"  # расширение
  [[ "$ext" == "$(basename "$f")" ]] && ext="no_extension"  # если нет точки
  mkdir -p "$dir/$ext"  # создаём папку
  mv "$f" "$dir/$ext/"  # перемещаем
done

echo "Файлы успешно отсортированы по расширениям."  # успех
